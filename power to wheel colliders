using UnityEngine;
using UnityEngine.UIElements;

public class motorpower : MonoBehaviour
{
    [SerializeField] private WheelCollider[] AllWheels;
    [SerializeField] private WheelCollider[] rearwheels;
    [SerializeField] private WheelCollider[] frontwheels;
    public Transform steeringWheel;
    float steer = 0;
    float power = 0;
    
    public float Gearnumber = 1;
    [Range(0, 40f)]
    public float gear1 = 11f;
    [Range(40f, 70f)]
    public float gear2 = 0.2f;
    [Range(70f, 85f)]
    public float gear3 = 0.2f;
    [Range(85f, 100f)]
    public float gear4 = 0.2f;
    [Range(100f, 110f)]
    public float gear5 = 0.2f;
    [Range(110f, 120000f)]
    public float gear6 = 0.2f;


    public float maxpower = 0;

    public float maxsteer = 0;
    // Start is called once before the first execution of Update after the MonoBehaviour is created
  
    private void gearchangepower()
    {
        if (Input.GetKeyDown(KeyCode.E))
        {
            Gearnumber = Gearnumber + 1;
        }
        if (Input.GetKeyDown(KeyCode.Q))
        {
            Gearnumber = Gearnumber - 1;
        }
        if (Gearnumber == 1)
        {
            float maxpower = gear1;
            power = Input.GetAxis("vertical") * maxpower * Time.deltaTime * 250;
            foreach (var wheelCollider in rearwheels)
            {
                wheelCollider.motorTorque = power;
            }
        }
        if (Gearnumber == 2)
        {
            float maxpower = gear2;
            power = Input.GetAxis("vertical") * maxpower * Time.deltaTime * 250;
            foreach (var wheelCollider in rearwheels)
            {
                wheelCollider.motorTorque = power;
            }
        }
        if (Gearnumber == 3)
        {
            float maxpower = gear3;
            power = Input.GetAxis("vertical") * maxpower * Time.deltaTime * 250;
            foreach (var wheelCollider in rearwheels)
            {
                wheelCollider.motorTorque = power;
            }
        }
        if (Gearnumber == 4)
        {
            float maxpower = gear4;
            power = Input.GetAxis("vertical") * maxpower * Time.deltaTime * 250;
            foreach (var wheelCollider in rearwheels)
            {
                wheelCollider.motorTorque = power;
            }
        }
        if (Gearnumber == 5)
        {
            float maxpower = gear5;
            power = Input.GetAxis("vertical") * maxpower * Time.deltaTime * 250;
            foreach (var wheelCollider in rearwheels)
            {
                wheelCollider.motorTorque = power;
            }
        }
        if (Gearnumber == 6)
        {
            float maxpower = gear6;
            power = Input.GetAxis("vertical") * maxpower * Time.deltaTime * 250;
            foreach (var wheelCollider in rearwheels)
            {
                wheelCollider.motorTorque = power;
            }
        }
        
    }
    private void changepower()
    {
        
        
    }
    private void steering()
    {
        steer = Input.GetAxis("horizontal") * maxsteer;
        foreach (var wheelCollider in frontwheels)
        {
            wheelCollider.steerAngle = steer;
        }

        
    }

    
    void Start()
        {

        }

        // Update is called once per frame
        void Update()
        {
            gearchangepower();
            steering();
            
        }
}   
